# 抽样

- [抽样](#抽样)
  - [水塘抽样算法](#水塘抽样算法)
  - [洗牌算法](#洗牌算法)

## 水塘抽样算法

水塘抽样是一种随机抽样算法。它能够在一个大小未知或非常大的集合中，抽取一部分样本，并保证每个样本的选取概率都是相等并随机的。

**常见的问题场景**：

一些常见的使用水塘抽样算法的场景包括：

- 一个长度未知的链表，如何在只遍历一次的情况下，返回链表中K个完全随机的数。
- 一个超大的文件存放在磁盘中，如何抽取随机几行，并尽可能少的使用内存。

**水塘抽样的流程**：

- 从数据流中读取前k个元素，将它们作为抽样结果。
- 对于第i个元素（i > k），以概率k/i选择该元素，并随机替换前面已选择k个数中的任意一个。换句话说，生成一个0到i的随机数，若小于k，则发生替换；反之，则保留原抽样结果。
- 不断重复步骤2，直到遍历完整个数据流。

由此可见，通过水塘抽样算法，我们可以在不知道数据流大小的情况下，以较小的内存开销从数据流中获得随机的样本。

## 洗牌算法

洗牌算法是一种用于将数组或列表的元素随机重排的算法。该算法的目的是通过随机交换元素的位置，使得每个元素在最终结果中均匀分布。

**洗牌算法的流程**：

- 从最后一个元素开始，将当前元素与一个随机位置的元素进行交换。
- 依次向前处理每个元素，重复步骤1。
- 当处理完第一个元素时，洗牌完成。

通过洗牌算法，可以获得一个随机的排列，用于需要将元素顺序打乱的场景，比如游戏中的卡牌洗牌、随机抽取元素等。
