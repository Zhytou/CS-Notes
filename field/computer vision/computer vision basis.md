# 计算机视觉基础

- [计算机视觉基础](#计算机视觉基础)
  - [特征检测与描述](#特征检测与描述)
    - [边缘检测](#边缘检测)
      - [边缘检测算子](#边缘检测算子)
      - [滤波器基础](#滤波器基础)
      - [Canny算法](#canny算法)
    - [角点检测](#角点检测)
    - [极值点检测](#极值点检测)
  - [特征描述](#特征描述)
    - [SIFT](#sift)
  - [曲线](#曲线)
    - [曲线拟合与哈夫变换](#曲线拟合与哈夫变换)
    - [RANSAC](#ransac)
  - [其他](#其他)
    - [连通域分析](#连通域分析)
    - [阈值处理](#阈值处理)
  - [参考](#参考)

## 特征检测与描述

在计算机视觉领域中，常见的[特征](https://en.wikipedia.org/wiki/Feature_(computer_vision))可分为三类，分别是：

- Edge
- Corner/Interest Points
- Blob/Region Of Interest Points

### 边缘检测

在图像中，一个物体的边缘或者轮廓往往会发生灰度值突变。因此，可以采用计算其灰度值导数（即相邻像素灰度差分）的方式检测边缘。一个最简单的边缘检测步骤如下：

- 将彩色图像转为灰度图像；
- 使用边缘检测算子计算灰度值变换率和变换方向，即求导得出梯度（方向和大小）；
- 使用单一阈值将梯度阈值进行二值化，得到二值边缘图。

#### 边缘检测算子

边缘检测算子也就是在检测边缘中用于计算灰度值梯度的运算符。它可依据求导次数分为一阶导数算子和二阶导数算子。当计算图像边缘的导数时，一阶导数通常产生较粗的边缘，即边缘处导数一直非零；而二阶导数则产生两个有间距的双边缘（由零分开，单像素宽）。关于二者区别，具体如下图所示。

![一阶导数和二阶导数的区别](../img/computer_vision_differential.png)

常见的边缘检测算子包括：

- **Roberts算子**：利用对角相邻像素点进行卷积计算梯度。
- **Sobel算子**：该算子包含两组3x3的矩阵，分别为横向及纵向。将之与图像作平面卷积，即按所示方程式计算：
  $$
  G_x*A = [[1, 0, -1], [2, 0, -2], [1, 0, -1]]*A = [f(x+1, y-1)+2*f(x+1, y)+f(x+1, y+1)]-[f(x-1, y-1)+2*f(x-1, y)+f(x-1, y+1)]
  G_y*A = [[1, 2, 1], [0, 0, 0], [-1, -2, -1]]*A = [f(x-1, y+1)+2*f(x, y+1)+f(x+1, y+1)]-[f(x-1, y-1)+2*f(x, y-1)+f(x+1, y-11)]
  $$
- **Prewitt算子**：原理与Sobel类似，但使用不同的卷积核。

#### 滤波器基础

事实上，这些用于边缘检测的算子正是数字图像处理中的锐化滤波器。它基于卷积差分，能够增强边界和突出细节。而与之对应的正是基于卷积求和的平滑滤波器，二则一起组成了空间域滤波器。其中，平滑滤波器可按计算方法分为平滑线性滤波器和统计排序（非线性）滤波器，包括：

- **均值滤波器**是最简单的线性滤波器，它通过计算像素邻域内的像素值平均值来替换中心像素的值。这有助于消除噪声，但可能导致边缘模糊。
- **加权线性滤波器**使用不同权重的邻域像素值进行滤波，权重通常随着距离中心像素的增加而减小。
- **高斯滤波器**是加权线性滤波器的一个例子，其权重由高斯函数决定，对中心像素赋予最大权重，对远离中心的像素赋予较小权重，这在平滑图像的同时能较好地保持边缘。
- **中值滤波器**是一种非线性滤波器，它将中心像素替换为其邻域像素排序后的中值。这种方法对椒盐噪声有很好的去除效果，同时能较好地保护边缘。

#### Canny算法

尽管使用边缘检测算子得到灰度值梯度之后

由多步骤组成,包括高斯滤波、计算梯度幅值和方向、非极大值抑制、双阈值检测和边缘连接等,是目前公认的最优边缘检测算法。
不同的边缘检测算子适用于不同的场景。一阶导数算子对噪声有一定抗性,适合检测灰度跳变较大的边缘。二阶导数算子通过求极值点定位边缘位置,适合检测灰度变化平缓的边缘。在实际应用时,需要针对具体问题选择合适的算子并调整参数。

### 角点检测

角点可以简单的认为是两条边的交点，比较严格的定义则是在邻域内具有两个主方向的特征点。换句话说，角点的灰度在两个方向上有剧烈变换。

Harris

### 极值点检测

**LoG**：

## 特征描述

> ![What is the difference between feature detectors and feature descriptors?](https://dsp.stackexchange.com/questions/24346/what-is-the-difference-between-feature-detectors-and-feature-descriptors)

### SIFT

尺度不变特征变换(Scale Invariant Feature Transform, SIFT)

## 曲线

### 曲线拟合与哈夫变换

曲线拟合和哈夫变换常用于从图像中检测特定的几何形状,如直线、圆等。

曲线拟合
曲线拟合的基本思想是根据一些采样点,利用最小二乘法或其他优化方法估计出最佳拟合曲线的参数方程。对于简单的几何形状,通常可以利用其解析方程进行拟合,如用两点法拟合直线方程、代入圆方程求解半径和圆心坐标等。

哈夫变换
哈夫变换则是通过将图像从图像空间变换到参数空间,使得同一个曲线上的点在参数空间内具有相同的参数值。利用参数空间上的累加器统计每个参数值出现的频率,最大频率处即为所求形状的方程参数。哈夫变换的经典应用是从边缘像素中检测直线和圆形等。

### RANSAC

随机抽样一致算法(Random Sample Consensus, RANSAC)采用迭代的方式从一组包含离群的被观测数据中估算出数学模型的参数。

## 其他

### 连通域分析

### 阈值处理

## 参考

[Princeton COS 429 - Computer Vision](https://www.cs.princeton.edu/courses/archive/fall17/cos429/cos429.html)