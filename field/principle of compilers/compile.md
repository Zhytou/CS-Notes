# 编译

**编译流程**：

一般来说，将源文件生成目标文件的流程通常包括以下四个步骤：

- 预处理：在这个阶段，主要是处理头文件包含、宏替换、条件编译等预处理指令，生成一个新的临时文件，通常以.i或者.ii作为扩展名，这个文件包含了所有的预处理结果。
- 编译：在这个阶段，编译器会将预处理后的代码进行编译，生成汇编代码，通常以.s作为扩展名。
- 汇编：在这个阶段，汇编器会将汇编代码转换为机器码，生成目标文件，通常以.o作为扩展名，这个目标文件包含了可执行代码、符号表、调试信息等。
- 链接：在这个阶段，链接器会将目标文件和相关的库文件进行链接，生成可执行程序或者共享库等。链接器会将不同的目标文件组合起来，解决符号引用、重定位等问题，生成最终的可执行程序或共享库。

**编译器**：

编译器是一种将高级语言源代码转换为目标机器可执行代码的程序。编译器通常由两个主要组件组成：前端和后端。其中，前端主要负责将高级语言源代码进行词法分析、语法分析、语义分析等操作，生成中间代码或汇编语言代码；而后端负责将中间代码或汇编语言代码翻译为目标机器的机器代码。

以gcc（GNU Complier）来说，它针对每种语言都有相应的前端，例如：C预处理器：cpp、C编译器：cc1、C++预处理器：cpp、C++编译器：cc1plus，但它在默认情况下，只使用gas（GNU Assembler）作为后端，将中间代码转换为机器码。最后使用gld（GNU Linker）将目标文件和相关的库文件进行链接，生成可执行程序或者共享库等。
