# 并行处理基础

- [并行处理基础](#并行处理基础)
  - [程序的并行行为](#程序的并行行为)
  - [并行编程模型](#并行编程模型)
  - [参考](#参考)

## 程序的并行行为

程序的并行行为主要包括指令级并行性、数据级并行、任务级并行性。

**指令级并行性**：

指令级并行性（Instruction Level Parallelism，简称 ILP）主要指指令之间的并行性，当指令之间不存在相关时，这些指令可以在处理器流水线上重叠起来并行执行。在程序运行中，如果必须等前一条指令执行完成后，才能执行后一条指令，那么这两条指令是相关的。指令相关主要包括数据相关、控制相关和结构相关。数据相关包括写后读（Read After Write，简称 RAW）相关、读后写
（Write AfterRead，简称 WAR）相关和写后写（WriteAfter Write，简称 WAW）相关。其中 RAW 相关是真正的数据相关，因为存在真正的数据传递关系；WAR相关和WAW相关又称为假相关或者名字相关，指令之间实际不存在数据传递。控制相关主要是由于存在分支指令，一条指令的执行取决于该分支指令的执行结果，则这两条指令之间存在控制相关。结构相关是指两条指令同时需要流水线中
的同一个功能部件。在这些相关中，RAW 数据相关和控制相关是真正制约指令级并行执行的相关。指令相关容易造成处理器流水线上的冲突，引起流水线阻塞，从而降低流水线效率。

**数据级并行**：

数据级并行性（Data Level Parallelism，简称 DLP）是指对集合或者数组中的元素同时执行相同的操作。

数据级并行性是比较易于处理的，可以在计算机体系结构的多个层次来利用数据级并行性。例如：可以在处理器中设计向量功能部件，采用 SIMD 设计方法，如一个 256 位向量部件一次可以执行 4 个 64 位的操作。

**任务级并行**：

任务级并行性（Task Level Parallelism）是将不同的任务（进程或者线程）分布到不同的处理单元上执行。

## 并行编程模型

并行处理系统上如何编程是个难题，目前并没有很好地解决。并行编程模型的目标是方便编程人员开发出能在并行处理系统上高效运行的并行程序。并行编程模型（Parallel Programming Model）是一种程序抽象的集合，它给程序员提供了一幅计算机硬件/软件系统的抽象简图，程序员利用这些模型就可以为多核处理器、多处理器、机群等并行计算系统设计并行程序。

常见的并行编程模型包括三类：

- 单任务数据并行模型
- 多任务共享存储编程模型
- 多任务消息传递编程模型

## 参考

- [国科大 胡伟武 计算机体系结构基础](https://foxsen.github.io/archbase/bookdown.pdf)
