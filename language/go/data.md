# 数据

- [数据](#数据)
  - [数组](#数组)
  - [切片](#切片)
  - [哈希表](#哈希表)
  - [结构体](#结构体)

Go语言将数据类型分为四类：

- 基础类型：数字、字符串和布尔型；
- 复合类型：数组和结构体；
- 引用类型：切片、字典、函数和通道；
- 接口类型：一组方法的集合。

## 数组

Go语言中，数组是一个由固定长度的特定类型元素组成的序列，一个数组可以由零个或多个元素组成。

**定义**:

- 默认情况下，数组的每个元素都被初始化为元素类型对应的零值，对于数字类型来说就是0。
- 如果在数组的长度位置出现的是“...”省略号，则表示数组的长度是根据初始化值的个数来计算

``` golang
// 声明一个长度为3的整形数字数组 
var a [3]int
// 定义一个长度为3的形数字数组，其内容为1，2，3
a := [...]int{1, 2, 3}
// 定义了一个长度为100，序号为99位置为-1的整形数字数组
a := [...]int{99: -1}
```

**遍历**：

``` golang
// 使用索引遍历
for i := 0; i < len(a); i++ {
  //
}
// 使用range关键字遍历
for i, v := range a {
  //
}
```

## 切片

在Go语言中，切片代表变长的序列，序列中每个元素都有相同的类型。

一个切片由三个部分构成：

- 指针：指针指向第一个slice元素对应的底层数组元素的地址；
- 长度：长度对应slice中元素的数目；
- 容量：容量一般是从slice的开始位置到底层数据的结尾位置。

因此，若向函数传递slice将允许在函数内部修改底层数组的元素。换句话说，复制一个slice只是对底层的数组创建了一个新的slice别名。此外，多个切片之间可以共享底层的数据，并且引用的数组部分区间可能重叠。

和数组不同的是，slice之间不能比较，因此我们不能使用`==`操作符来判断两个slice是否含有全部相等元素。

**定义**：

``` golang
// 定义并初始化一个长度为 3 的 int 类型切片
a := []int{0, 1, 2, 3, 4, 5}
// 定义一个初始长度为 0，容量为 5 的 int 类型切片
slice := make([]int, 0, 5)
```

**增添元素**：

Go语言内置的append函数用于向slice追加元素，如：`arr = append(arr, num)`。

事实上，每次调用append函数都会检测切片底层数组是否有足够容量来保存新添加的元素。

## 哈希表

Go语言中，哈希表是一个无序的key/value对的集合，其中所有的key都是不同的，然后通过给定的key可以在常数时间复杂度内检索、更新或删除对应的value。其中key必须是支持==比较运算符的数据类型。

**定义**：

``` golang
// 定义一个空的 map，键和值的类型都是 string
var m map[string]string

// 定义并初始化一个 map，键和值的类型都是 string
m := map[string]string{
    "key1": "value1",
    "key2": "value2",
}
// 使用 make() 函数定义一个空的 map，键和值的类型都是 string
m := make(map[string]string)
```

## 结构体

Go语言中，结构体是一种聚合的数据类型，是由零个或多个任意类型的值聚合成的实体。其中，每个值称为结构体的成员。
